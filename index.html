<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title></title>
     <style>
 body {
      margin: 0;
      height: 100vh;
      background-color: black;

      display: flex;
      justify-content: center; /* จัดตรงกลางแนวนอน */
      align-items: center;     /* จัดตรงกลางแนวตั้ง */
    }

    .container {
      display: flex;
      gap: 100px; 
    }

    .outer-circle {
      width: 260px;
      height: 260px;
      background-color: white;
      border-radius: 50%;

      display: flex;
      justify-content: center;
      align-items: center;
      position: relative; 
      overflow: hidden; 
        transform: translate(70%, -30%);
    }

      .inner-circle {
      width: 110px;
      height: 110px;
      background-color: black;
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      transition: top 0.2s, left 0.2s; 
    }
     .closed {
      background-color: black !important; /* เปลี่ยนเป็นดำ */
    }

    .closed .inner-circle {
      display: none; /* ซ่อนตาดำ */
    }
  </style>
</head>

<body>

    <div class="container-fluid">


        <div class="row">
            <div class="col-5 pt-5 ps-5 col-sm-7">
                <!--<label class="form-label">Enter Room ID to connect or create</label>-->
                <input id="room-input" type="text" class="form-control" placeholder="2" hidden>
                <br>
                <div class="col-auto">

            </div>
            <div class="col-7 pt-5 ps-5 pe-5 col-sm-5">
                <div class="alert alert-info alert-dismissible fade show mt-3" role="alert" id="notification" hidden>
                    <strong>Holy guacamole!</strong> You should check in on some of those fields below.
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col ps-5 pt-5" id="local-vid-container" hidden>
                <div class="row">
                    <div class="col">
                    </div>
                </div>
                <div class="row p-3">
                    <video height="300" id="local-video" controls class="local-video" hidden></video>
                </div>
                <div class="row">
                    <!--<div class="col-3 col-sm-12"><button type="submit" class="btn btn-success mb-3"
                            onclick="startScreenShare()">Share Screen</button>-->
                    </div>
                </div>
            </div>
            <div class="col ps-5 pt-5" id="screenshare-container" hidden>
                <div class="row">
                </div>
                <div class="row p-3">
                    <video height="300" id="screenshared-video" controls class="local-video"></video>
                </div>
                <!-- <div class="row">
                    <div class="col-3 col-sm-12"><button type="submit" class="btn btn-success mb-3"
                            onclick="startScreenShare()">Share Screen</button>
                    </div>
                </div> -->
            </div>
            <div class="col ps-5 pt-5" id="remote-vid-container" hidden>
                <div class="row">
                </div>
                <div class="row p-3">
                    <video height="300" id="remote-video" controls class="remote-video" hidden></video>
                </div>
            </div>
 <div class="container">
    <div class="outer-circle">
      <div class="inner-circle"></div>
    </div>
    <div class="outer-circle">
      <div class="inner-circle"></div>
    </div>
  </div>

<script>
    const innerCircles = document.querySelectorAll(".inner-circle");
    const outerCircles = document.querySelectorAll(".outer-circle");

    let posX = 55; // เริ่มตรงกลางแต่เลื่อนไปขวานิดหน่อย
    let posY = 50;
    let closed = false;

    document.addEventListener("keydown", (event) => {
      const key = event.key.toLowerCase();

      // เคลื่อนที่ด้วย WASD
      if (key === "a") posX -= 5; // ซ้าย
      if (key === "d") posX += 5; // ขวา
      if (key === "w") posY -= 5; // ขึ้น
      if (key === "s") posY += 5; // ลง

      // รีเซ็ตกลาง
      if (key === " ") {
        posX = 55;
        posY = 50;
      }

      // ปิด/เปิดตา
      if (key === "x") {
        closed = !closed;
        outerCircles.forEach(circle => {
          if (closed) circle.classList.add("closed");
          else circle.classList.remove("closed");
        });
      }

      // จำกัดไม่ให้ออกนอกตาขาว
      posX = Math.max(20, Math.min(80, posX));
      posY = Math.max(20, Math.min(80, posY));

      innerCircles.forEach(circle => {
        circle.style.left = posX + "%";
        circle.style.top = posY + "%";
      });
    });
  </script>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>


    <!-- check https://peerjs.com/ for latest CDN-->
    <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
    <script src="script.js"></script>
            

    <script>
    
        let hashValue = window.location.hash.substring(1); 
        joinRoom();
        if (hashValue) {
           //document.getElementById("result").innerText = "คุณส่งค่า hash มา: " + hashValue;

 
        if (hashValue === "2") {
            createRoom();
            
        } else if (hashValue === "menu") {
            //console.log("แสดงเมนูหลัก");
        }
        } else {
            //document.getElementById("result").innerText = "ไม่มีค่า hash";
        }
  </script>
</body>

</html>














